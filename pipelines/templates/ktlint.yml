steps:
  - task: Gradle@2
    displayName: Code Checks
    inputs:
      tasks: 'ktlintCheck'
      gradleWrapperFile: 'gradlew'
      publishJUnitResults: false
    condition: succeededOrFailed()

  - task: PublishPipelineArtifact@1
    displayName: Code Checks Report - app
    inputs:
      targetPath: 'app/build/reports/ktlint'
      artifactName: 'Code Checks - app'
    condition: succeededOrFailed()

  - task: PublishPipelineArtifact@1
    displayName: Code Checks Report - core-data-network
    inputs:
      targetPath: 'core-data-network/build/reports/ktlint'
      artifactName: 'Code Checks - core-data-network'
    condition: succeededOrFailed()