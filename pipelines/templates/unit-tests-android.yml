parameters:
  param : []

steps:
  - ${{each module in parameters.param}}:
    - task: Gradle@2
      displayName: Unit test ${{module}}
      inputs:
        tasks: ':${{module}}:testDebug'
        gradleWrapperFile: 'gradlew'
        publishJUnitResults: true
        testResultsFiles: '${{module}}/**/TEST-*.xml'
        testRunTitle: 'Unit Tests - ${{module}}'
      condition: succeededOrFailed()